# ğŸ’± ValutaTrade Hub

â–ˆâ–ˆâ•— â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•— â–ˆâ–ˆâ•— â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•‘â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•
â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â• â–ˆâ–ˆâ•”â•â•â•
â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
â•šâ•â•â•â•â•â• â•šâ•â• â•šâ•â•â•šâ•â•â•â•â•â•â• â•šâ•â•â•â•â•â• â•šâ•â• â•šâ•â• â•šâ•â• â•šâ•â• â•šâ•â• â•šâ•â•â•šâ•â• â•šâ•â•â•â•â•â•â•

php-template
ĞšĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ ĞºĞ¾Ğ´

<p align="center">
  <img src="https://img.shields.io/badge/Python-3.10+-blue.svg" alt="Python">
  <img src="https://img.shields.io/badge/Poetry-managed-60a5fa.svg" alt="Poetry">
  <img src="https://img.shields.io/badge/Lint-Ruff-brightgreen.svg" alt="Ruff">
  <img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="License">
  <img src="https://img.shields.io/badge/Version-1.0.0-orange.svg" alt="Version">
</p>

> **ValutaTrade Hub** â€” CLI-Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Ğ´Ğ»Ñ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ²Ğ°Ğ»ÑÑ‚Ğ½Ñ‹Ğ¼ Ğ¿Ğ¾Ñ€Ñ‚Ñ„ĞµĞ»ĞµĞ¼.  
> Ğ ĞµĞ°Ğ»Ğ¸Ğ·ÑƒĞµÑ‚ Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ, Ğ¿Ğ¾ĞºÑƒĞ¿ĞºÑƒ Ğ¸ Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ¶Ñƒ Ğ²Ğ°Ğ»ÑÑ‚, Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ĞºÑƒÑ€ÑĞ¾Ğ² Ğ¸Ğ· Ğ²Ğ½ĞµÑˆĞ½Ğ¸Ñ… API, Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾Ñ€Ñ‚Ñ„ĞµĞ»Ñ Ğ¸ Ğ»Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¹.  
> ĞÑĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¾ Ğ½Ğ° Ğ¿Ñ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿Ğ°Ñ… **Ñ‡Ğ¸ÑÑ‚Ğ¾Ğ¹ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñ‹** Ñ Ñ‡Ñ‘Ñ‚ĞºĞ¸Ğ¼ Ñ€Ğ°Ğ·Ğ´ĞµĞ»ĞµĞ½Ğ¸ĞµĞ¼ ÑĞ»Ğ¾Ñ‘Ğ² `core`, `infra`, `cli` Ğ¸ `parser_service`.

ğŸ¥ **Ğ”ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ğ¾Ğµ Ğ²Ğ¸Ğ´ĞµĞ¾:** *[ÑÑÑ‹Ğ»ĞºĞ° Ğ¿Ğ¾ÑĞ²Ğ¸Ñ‚ÑÑ Ğ¿Ğ¾ÑĞ»Ğµ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸]*

---

## ğŸ—ï¸ ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°
```
valutatrade_hub/
â”œâ”€â”€ core/
â”‚ â”œâ”€â”€ currencies.py # Ğ˜ĞµÑ€Ğ°Ñ€Ñ…Ğ¸Ñ Ğ²Ğ°Ğ»ÑÑ‚ Ğ¸ Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ
â”‚ â”œâ”€â”€ exceptions.py # Ğ˜ÑĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ
â”‚ â”œâ”€â”€ models.py # User, Wallet, Portfolio
â”‚ â”œâ”€â”€ usecases.py # Ğ‘Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ°: buy/sell/get_rate
â”‚ â””â”€â”€ utils.py
â”‚
â”œâ”€â”€ infra/
â”‚ â”œâ”€â”€ settings.py # SettingsLoader (TTL, Ğ¿ÑƒÑ‚Ğ¸, Ğ±Ğ°Ğ·Ğ°)
â”‚ â””â”€â”€ database.py # DatabaseManager (JSON-Ñ…Ñ€Ğ°Ğ½Ğ¸Ğ»Ğ¸Ñ‰Ğµ)
â”‚
â”œâ”€â”€ parser_service/
â”‚ â”œâ”€â”€ api_clients.py # Ğ’Ğ½ĞµÑˆĞ½Ğ¸Ğµ Ğ¸ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¸ ĞºÑƒÑ€ÑĞ¾Ğ²
â”‚ â”œâ”€â”€ updater.py # Ğ¡Ğ±Ğ¾Ñ€ Ğ¸ Ğ¾Ğ±ÑŠĞµĞ´Ğ¸Ğ½ĞµĞ½Ğ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
â”‚ â””â”€â”€ storage.py # Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ°Ñ Ğ·Ğ°Ğ¿Ğ¸ÑÑŒ Ğ² rates.json
â”‚
â”œâ”€â”€ cli/
â”‚ â””â”€â”€ interface.py # ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ CLI
â”‚
â”œâ”€â”€ logging_config.py # ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Ğ»Ğ¾Ğ³Ğ¾Ğ² Ğ¸ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚
â”œâ”€â”€ decorators.py # @log_action
â”œâ”€â”€ data/
â”‚ â”œâ”€â”€ users.json
â”‚ â”œâ”€â”€ portfolios.json
â”‚ â””â”€â”€ rates.json
â””â”€â”€ main.py # Ğ¢Ğ¾Ñ‡ĞºĞ° Ğ²Ñ…Ğ¾Ğ´Ğ°
```
yaml
ĞšĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ ĞºĞ¾Ğ´

---
```
## âš™ï¸ Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ğ¸ Ğ·Ğ°Ğ¿ÑƒÑĞº
```
bash
# 1. Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹
```
poetry install
```
# 2. Ğ—Ğ°Ğ¿ÑƒÑĞº CLI
```
poetry run project
```
# 3. Ğ¡Ğ¿Ñ€Ğ°Ğ²ĞºĞ° Ğ¿Ğ¾ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ°Ğ¼
```
poetry run project --help
```
ğŸ§© ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ CLI
```
ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ°	ĞÑ€Ğ³ÑƒĞ¼ĞµĞ½Ñ‚Ñ‹	ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ
register	--username, --password	Ğ ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ½Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ
login	--username, --password	Ğ’Ñ…Ğ¾Ğ´ Ğ² ÑĞ¸ÑÑ‚ĞµĞ¼Ñƒ
show-portfolio	--base USD	ĞŸÑ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€ Ğ¿Ğ¾Ñ€Ñ‚Ñ„ĞµĞ»Ñ
buy	--currency BTC, --amount 0.1	ĞŸĞ¾ĞºÑƒĞ¿ĞºĞ° Ğ²Ğ°Ğ»ÑÑ‚Ñ‹
sell	--currency BTC, --amount 0.1	ĞŸÑ€Ğ¾Ğ´Ğ°Ğ¶Ğ° Ğ²Ğ°Ğ»ÑÑ‚Ñ‹
get-rate	--from_currency USD, --to_currency EUR	ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ ĞºÑƒÑ€ÑĞ°
update-rates	(Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾) --source	ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ĞºÑƒÑ€ÑĞ¾Ğ²
```
ğŸ§  ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ
```
bash
ĞšĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ ĞºĞ¾Ğ´
# Ğ ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ
```
poetry run project register --username alice --password 12345
```
# Ğ’Ñ…Ğ¾Ğ´
```
poetry run project login --username alice --password 12345
```
# ĞŸĞ¾ĞºÑƒĞ¿ĞºĞ°
```
poetry run project buy --currency BTC --amount 0.05
```
# ĞŸÑ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€ Ğ¿Ğ¾Ñ€Ñ‚Ñ„ĞµĞ»Ñ
```
poetry run project show-portfolio --base USD
```
# ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ĞºÑƒÑ€ÑĞ°
```
poetry run project get-rate --from_currency USD --to_currency EUR
```
# ĞŸÑ€Ğ¾Ğ´Ğ°Ğ¶Ğ°
```
poetry run project sell --currency BTC --amount 0.02
```
# ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ĞºÑƒÑ€ÑĞ¾Ğ²
```
poetry run project update-rates
```
ğŸ§± Ğ›Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
```
Ğ¤Ğ°Ğ¹Ğ» Ğ»Ğ¾Ğ³Ğ¾Ğ²: logs/actions.log
```
sql

INFO 2025-11-11T12:45:22 BUY user='alice' currency='BTC' amount=0.0500 rate=59300.00 base='USD' result=OK
INFO 2025-11-11T12:48:14 SELL user='alice' currency='BTC' amount=0.0200 rate=60000.00 base='USD' result=OK
```
ğŸš¨ ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº
```
Ğ˜ÑĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ	Ğ“Ğ´Ğµ Ğ²Ğ¾Ğ·Ğ½Ğ¸ĞºĞ°ĞµÑ‚	ĞŸÑ€Ğ¸Ğ¼ĞµÑ€
InsufficientFundsError	ĞŸÑ€Ğ¾Ğ´Ğ°Ğ¶Ğ° Ğ±ĞµĞ· ÑÑ€ĞµĞ´ÑÑ‚Ğ²	Â«ĞĞµĞ´Ğ¾ÑÑ‚Ğ°Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ ÑÑ€ĞµĞ´ÑÑ‚Ğ²: Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾ 0.01 BTC, Ñ‚Ñ€ĞµĞ±ÑƒĞµÑ‚ÑÑ 0.05 BTCÂ»
CurrencyNotFoundError	ĞĞµĞ¸Ğ·Ğ²ĞµÑÑ‚Ğ½Ñ‹Ğ¹ ĞºĞ¾Ğ´ Ğ²Ğ°Ğ»ÑÑ‚Ñ‹	Â«ĞĞµĞ¸Ğ·Ğ²ĞµÑÑ‚Ğ½Ğ°Ñ Ğ²Ğ°Ğ»ÑÑ‚Ğ° 'XYZ'Â»
ApiRequestError	ĞÑˆĞ¸Ğ±ĞºĞ° API Ğ¿Ñ€Ğ¸ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğ¸ ĞºÑƒÑ€ÑĞ¾Ğ²	Â«ĞÑˆĞ¸Ğ±ĞºĞ° Ğ¿Ñ€Ğ¸ Ğ¾Ğ±Ñ€Ğ°Ñ‰ĞµĞ½Ğ¸Ğ¸ Ğº Ğ²Ğ½ĞµÑˆĞ½ĞµĞ¼Ñƒ API: 429 Too Many RequestsÂ»
```
âš™ï¸ ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ (SettingsLoader)
```
toml
ĞšĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ ĞºĞ¾Ğ´
[tool.valutatrade]
data_path = "data/"
logs_path = "logs/"
rates_ttl_seconds = 3600
base_currency = "USD"
```
ğŸ§° Makefile Ñ†ĞµĞ»Ğ¸
```
Ğ¦ĞµĞ»ÑŒ	ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ
make install	Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹
make lint	ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ĞºĞ¾Ğ´Ğ° Ruff
make project	Ğ—Ğ°Ğ¿ÑƒÑĞº CLI
make build	Ğ¡Ğ±Ğ¾Ñ€ĞºĞ° Ğ¿Ğ°ĞºĞµÑ‚Ğ°
make publish	ĞŸÑƒĞ±Ğ»Ğ¸ĞºĞ°Ñ†Ğ¸Ñ
```
ğŸ§© Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸

ğŸ Python 3.10+

ğŸ“¦ Poetry

ğŸ§¹ Ruff

ğŸ“Š PrettyTable

ğŸŒ ExchangeRate API

ğŸ’¾ JSON-Ñ…Ñ€Ğ°Ğ½Ğ¸Ğ»Ğ¸Ñ‰Ğµ

ğŸ‘‘ ĞĞ²Ñ‚Ğ¾Ñ€
ĞŸÑ€Ğ¾ĞµĞºÑ‚ ÑĞ¾Ğ·Ğ´Ğ°Ğ½ Ğ² Ñ€Ğ°Ğ¼ĞºĞ°Ñ… ĞºÑƒÑ€ÑĞ°
â€œĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° Python-Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğ¹ (DPO ĞĞĞ”)â€

ĞĞ²Ñ‚Ğ¾Ñ€: Nosulchak
Ğ“Ğ¾Ğ´: 2025


